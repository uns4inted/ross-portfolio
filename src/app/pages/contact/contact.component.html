<!-- ======= Contact Section ======= -->

<!-- TODO: Set valid content, make form work -->
<section id="contact" class="contact" [class.section-show]="sectionShow">
  <div class="container">
    <div class="section-title">
      <h2>Contact</h2>
      <p>Contact Me</p>
    </div>

    <div class="row mt-2">
      <div class="col-md-6 d-flex align-items-stretch">
        <div class="info-box">
          <i class="bx bx-map"></i>
          <h3>My Location</h3>
          <p>{{ contactsData.address }}</p>
        </div>
      </div>

      <div class="col-md-6 mt-4 mt-md-0 d-flex align-items-stretch">
        <div class="info-box">
          <i class="bx bx-share-alt"></i>
          <h3>Social Profiles</h3>
          <div class="social-links">
            <a *ngFor="let item of contactsData.socialMedia" [href]="item.link">
              <i [ngClass]="item.icon"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="col-md-6 mt-4 d-flex align-items-stretch">
        <div class="info-box">
          <i class="bx bx-envelope"></i>
          <h3>Email Me</h3>
          <p>
            <a [href]="'mailto:' + contactsData.email">
              {{ contactsData.email }}
            </a>
          </p>
        </div>
      </div>
    </div>

    <form
      [formGroup]="FormData"
      (ngSubmit)="onSubmit(FormData.value)"
      class="email-form mt-4"
    >
      <div class="row">
        <div class="col-md-6 form-group">
          <input
            type="text"
            name="name"
            formControlName="name"
            class="form-control"
            id="name"
            placeholder="Your Name"
            required
          />
        </div>
        <div class="col-md-6 form-group mt-3 mt-md-0">
          <input
            type="email"
            name="email"
            formControlName="email"
            class="form-control"
            id="email"
            placeholder="Your Email"
            required
          />
        </div>
      </div>
      <div class="form-group mt-3">
        <input
          type="text"
          name="subject"
          formControlName="subject"
          class="form-control"
          id="subject"
          placeholder="Subject"
          required
        />
      </div>
      <div class="form-group mt-3">
        <textarea
          name="message"
          formControlName="message"
          class="form-control"
          rows="5"
          placeholder="Message"
          required
        ></textarea>
      </div>
      <div class="my-3">
        <div *ngIf="sendingFormData" class="loading">Sending your form...</div>
        <div *ngIf="formSendError" class="error-message">
          An error occurred while sending your form. Please try again later or
          contact me directly using the email address.
          <br />
          <span *ngIf="errorMessage">Error details: {{ errorMessage }}</span>
        </div>
        <div *ngIf="formSendSuccess" class="sent-message">
          Your message has been sent. Thank you!
        </div>
      </div>
      <div class="text-center">
        <button class="btn-submit" type="submit" [disabled]="!FormData.valid">
          Send Message
        </button>
      </div>
    </form>
  </div>
</section>
<!-- End Contact Section -->
